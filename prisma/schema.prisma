datasource db {
  provider = "postgresql"
  url      = env("POSTGRESQL_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Country {
  code                     String                     @id
  // Name
  commonName               String
  officialName             String
  // Code
  cca2                     String
  cca3                     String
  ccn3                     String
  cioc                     String
  fifa                     String
  // Status
  status                   String
  independent              Boolean
  unMember                 Boolean
  startOfWeek              String
  latlng                   Float[]
  topLevelDomains          String[]
  capital                  String[]
  alternativeSpellings     String[]
  continents               String[]
  borders                  String[]
  // Region
  region                   String
  subregion                String
  // Image
  flag                     String
  flagPNG                  String
  flagSVG                  String
  // Population
  area                     Int
  population               Int
  density                  Int
  // Google
  googleMaps               String
  googleTrends             String[]
  // Other Data
  timezones                String[]
  currencies               CurrenciesInCountries[]
  languages                LanguagesInCountries[]
  organiztions             OrganizationsInCountries[]
  // Passport
  passportGlobalRank       Int
  passportIndividualank    Int
  passportMobilityScoreInt Int
  passportRequirements     Json
  createdAt                DateTime                   @default(now())
  updatedAt                DateTime                   @updatedAt
}

model Currency {
  code                  String                  @id
  name                  String
  symbol                String
  CurrenciesInCountries CurrenciesInCountries[]
  createdAt             DateTime                @default(now())
  updatedAt             DateTime                @updatedAt
}

model Language {
  code                 String                 @id
  name                 String
  LanguagesInCountries LanguagesInCountries[]
  createdAt            DateTime               @default(now())
  updatedAt            DateTime               @updatedAt
}

model Organization {
  code                     String                     @id
  name                     String
  OrganizationsInCountries OrganizationsInCountries[]
  createdAt                DateTime                   @default(now())
  updatedAt                DateTime                   @updatedAt
}

model Timezone {
  code      String   @id
  name      String
  offset    String
  utcOffset String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model CurrenciesInCountries {
  currency     Currency @relation(fields: [currencyCode], references: [code])
  currencyCode String
  country      Country  @relation(fields: [countryCode], references: [code])
  countryCode  String

  @@id([currencyCode, countryCode])
}

model LanguagesInCountries {
  language     Language @relation(fields: [languageCode], references: [code])
  languageCode String
  country      Country  @relation(fields: [countryCode], references: [code])
  countryCode  String

  @@id([languageCode, countryCode])
}

model OrganizationsInCountries {
  organization     Organization @relation(fields: [organizationCode], references: [code])
  organizationCode String
  country          Country      @relation(fields: [countryCode], references: [code])
  countryCode      String

  @@id([organizationCode, countryCode])
}
